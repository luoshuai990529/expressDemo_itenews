(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f191bbb"],{"4ec9":function(t,s,a){"use strict";var o=a("ec3f"),i=a.n(o);i.a},7740:function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"secPage"},[a("div",{staticClass:"search"},[a("div",{staticClass:"headerSec"},[a("div",{staticClass:"topSec"},[a("div",{staticClass:"logo"},[a("a",{staticClass:"iconfont icon-fanhui",attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.backSec(s)}}})]),a("div",{staticClass:"secInfo"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.secInputInfo,expression:"secInputInfo"}],staticClass:"secInput",attrs:{type:"text",name:"secinfomation"},domProps:{value:t.secInputInfo},on:{focus:t.goSecPage,blur:function(s){t.secInputInfo=""==t.secInputInfo.trim()?"搜索最新资讯":t.secInputInfo},input:[function(s){s.target.composing||(t.secInputInfo=s.target.value)},t.searchPost]}}),a("i",{staticClass:"iconfont icon-sousuo"})]),a("div",{staticClass:"perInfo"},[a("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.getSecInfo(s)}}},[t._v("搜索")])])])])]),t.flag?t._e():a("div",{staticClass:"mainContent"},[a("div",{staticClass:"history"},[a("p",{staticClass:"hsytitle"},[a("b",[t._v("历史记录")]),a("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clearHistory(s)}}},[t._v(" 清空 "),a("i",{staticClass:"iconfont icon-quxiao"})])]),a("div",{staticClass:"hsyitems"},t._l(t.historyList,(function(s,o){return a("a",{key:o,attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.jumpToSecInfo(s)}}},[t._v(t._s(s))])})),0)]),a("div",{staticClass:"hotsec"},[t._m(0),a("div",{staticClass:"hotitem"},[a("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.$router.push("/postdetail?id=1")}}},[a("i",[t._v("1.")]),t._v(" 阿信分享《说好不哭》背后故事 "),a("span",{staticClass:"iconfont icon-redian"})]),a("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.$router.push("/postdetail?id=5")}}},[a("i",[t._v("2.")]),t._v(" 华为首发计算战略! "),a("span",{staticClass:"iconfont icon-redian"})]),a("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.$router.push("/postdetail?id=3")}}},[a("i",[t._v("3.")]),t._v(" 詹妮弗现身婚姻登记处 "),a("span",{staticClass:"iconfont icon-redian"})]),a("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.$router.push("/postdetail?id=12")}}},[a("i",[t._v("4.")]),t._v(" 关晓彤演技 "),a("span",{})])])])]),!t.showPostList&&t.secPostList[0]&&""!=t.secInputInfo&&"搜索最新资讯"!=t.secInputInfo?a("div",{staticClass:"showPost"},[a("ul",t._l(t.secPostList,(function(s,o){return a("li",{key:o,on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.jumpToPostDetail(s.id)}}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"title"},[t._v(t._s(s.title))]),a("i",{staticClass:"iconfont icon-youjiantou"})])])})),0)]):t._e(),t.flag?a("div",{staticClass:"PostTemp"},t._l(t.showPostItem,(function(t,s){return a("post-temp",{key:s,attrs:{postData:t}})})),1):t._e()])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"hottitle"},[a("b",[t._v("热门搜索")])])}],e=a("af00"),n={directives:{focus:{inserted:function(t){t.focus()}}},data(){return{secInputInfo:"搜索最新资讯",secPostList:[],showPostItem:[],flag:!1,showPostList:!1,historyList:[]}},methods:{goSecPage(){"搜索最新资讯"==this.secInputInfo&&(this.secInputInfo="")},searchPost(){this.showPostList=!1,""!=this.secInputInfo.trim()&&"搜索最新资讯"!=this.secInputInfo&&this.$axios({url:"/post_search",method:"get",params:{keyword:this.secInputInfo}}).then(t=>{console.log(t.data.data),this.secPostList=t.data.data})},jumpToPostDetail(t){console.log("跳转的文章id为"+t),this.$router.push({path:"/postdetail?id="+t})},getSecInfo(){console.log("点击了搜索"),""!=this.secInputInfo.trim()&&"搜索最新资讯"!=this.secInputInfo?this.$axios({url:"/post_search",method:"get",params:{keyword:this.secInputInfo}}).then(t=>{console.log(t.data.data),this.showPostItem=t.data.data,t.data.data[0]?(this.flag=!0,this.showPostList=!0,-1==this.historyList.indexOf(this.secInputInfo)&&(this.historyList.unshift(this.secInputInfo),localStorage.setItem("historyList",JSON.stringify(this.historyList)))):this.$toast.fail("没有相关资讯~")}):this.$toast.fail("请不要输入空值")},backSec(){""==this.secInputInfo&&!this.flag||"搜索最新资讯"==this.secInputInfo&&!this.flag?(console.log("返回首页"),this.$router.back()):(console.log("清空输入框"),this.secInputInfo="",this.flag=!1)},jumpToSecInfo(t){console.log("搜索的关键词为："+t),this.secInputInfo=t,this.$axios({url:"/post_search",method:"get",params:{keyword:t}}).then(t=>{console.log(t.data.data),this.showPostItem=t.data.data,t.data.data[0]&&(this.flag=!0,this.showPostList=!0)})},clearHistory(){this.historyList=[],localStorage.clear("historyList"),this.$toast.success("已清除历史")}},mounted(){localStorage.getItem("historyList")&&(this.historyList=JSON.parse(localStorage.getItem("historyList")))},components:{PostTemp:e["a"]}},c=n,r=(a("4ec9"),a("2877")),l=Object(r["a"])(c,o,i,!1,null,"bbdc2928",null);s["default"]=l.exports},"87c6":function(t,s,a){"use strict";var o=a("c8a7"),i=a.n(o);i.a},af00:function(t,s,a){"use strict";var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{on:{click:t.jumpDetail}},[1==t.postData.type&&t.postData.cover.length>=1&&t.postData.cover.length<3?a("div",{staticClass:"singleImg"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[t._v(t._s(t.postData.title))]),a("div",{staticClass:"info"},[t._v(t._s(t.postData.user.nickname)+" "+t._s(t.postData.comment_length)+"跟帖")])]),a("div",{staticClass:"right"},[a("img",{staticClass:"cover",attrs:{src:t._f("fixUrl")(t.postData.cover[0].url),alt:""}})])]):t._e(),1==t.postData.type&&t.postData.cover.length>=3?a("div",{staticClass:"multipImgs"},[a("div",{staticClass:"title"},[t._v(t._s(t.postData.title))]),a("div",{staticClass:"coverWrapper"},[a("img",{staticClass:"coverImg",attrs:{src:t._f("fixUrl")(t.postData.cover[0].url),alt:""}}),a("img",{staticClass:"coverImg",attrs:{src:t._f("fixUrl")(t.postData.cover[1].url),alt:""}}),a("img",{staticClass:"coverImg",attrs:{src:t._f("fixUrl")(t.postData.cover[2].url),alt:""}})]),a("div",{staticClass:"info"},[t._v(t._s(t.postData.user.nickname)+" "+t._s(t.postData.comment_length)+"跟帖")])]):t._e(),2==t.postData.type&&t.postData.cover.length>=1?a("div",{staticClass:"video"},[a("div",{staticClass:"title"},[t._v(t._s(t.postData.title))]),a("div",{staticClass:"coverWrapper"},[a("img",{staticClass:"coverImg",attrs:{src:t._f("fixUrl")(t.postData.cover[0].url),alt:""}}),t._m(0)]),a("div",{staticClass:"info"},[t._v(t._s(t.postData.user.nickname)+" "+t._s(t.postData.comment_length)+"跟帖")])]):t._e()])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"playIconWrapper"},[a("span",{staticClass:"iconfont icon-shiping"})])}],e={filters:{fixUrl(t){const s=/^http/;return s.test(t)?t:"http://itluoshuai.cn:3000"+t}},props:["postData"],methods:{jumpDetail(){this.$router.push({path:"/postdetail?id="+this.postData.id})}},mounted(){}},n=e,c=(a("87c6"),a("2877")),r=Object(c["a"])(n,o,i,!1,null,"3a5587a3",null);s["a"]=r.exports},c8a7:function(t,s,a){},ec3f:function(t,s,a){}}]);
//# sourceMappingURL=chunk-1f191bbb.2ccc46a3.js.map