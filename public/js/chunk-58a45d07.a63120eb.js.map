{"version":3,"sources":["webpack:///./src/views/PostDetail.vue?1988","webpack:///./src/components/comment/CommentInput.vue?93a7","webpack:///src/components/comment/CommentInput.vue","webpack:///./src/components/comment/CommentInput.vue?4ace","webpack:///./src/components/comment/CommentInput.vue","webpack:///src/views/PostDetail.vue","webpack:///./src/views/PostDetail.vue?277a","webpack:///./src/views/PostDetail.vue","webpack:///./src/components/comment/CommentInput.vue?68b0","webpack:///./src/views/MoreComments.vue?2b9b","webpack:///src/views/MoreComments.vue","webpack:///./src/views/MoreComments.vue?a188","webpack:///./src/views/MoreComments.vue","webpack:///./src/components/comment/Parent.vue?acc0","webpack:///./src/components/PerNavTemp.vue?3b8a","webpack:///./src/views/PostDetail.vue?d95a","webpack:///./src/views/MoreComments.vue?5329","webpack:///./src/components/PerNavTemp.vue?cd1a","webpack:///src/components/PerNavTemp.vue","webpack:///./src/components/PerNavTemp.vue?15f7","webpack:///./src/components/PerNavTemp.vue","webpack:///./src/components/comment/Comments.vue?c638","webpack:///./src/components/comment/Comments.vue?a65e","webpack:///./src/components/comment/Parent.vue?c3e8","webpack:///src/components/comment/Parent.vue","webpack:///./src/components/comment/Parent.vue?2be8","webpack:///./src/components/comment/Parent.vue","webpack:///src/components/comment/Comments.vue","webpack:///./src/components/comment/Comments.vue?5cf4","webpack:///./src/components/comment/Comments.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handler","$event","$router","back","class","isAttention","domProps","_s","AttentionTo","type","content","indexOf","_v","title","nickname","create_date","split","_e","attrs","_f","$axios","defaults","baseURL","head_img","isDianzan","ckLike","staticStyle","like_length","_m","_l","comment","index","key","discuss","stopPropagation","preventDefault","moreComments","commentsTotal","isStar","showInput","repParentId","repname","collection","share","loadComments","staticRenderFns","discussEmit","tienum","collectionEmit","shareEmit","directives","name","rawName","value","expression","target","composing","sendDiscuss","focus","inserted","el","props","computed","methods","$emit","trim","console","log","url","$route","query","id","method","data","parent_id","then","res","$toast","success","message","component","filters","filtContent","val","str","match","postImg","userId","AticelId","commentList","fail","user","cover","has_star","has_like","forEach","item","length","push","path","articleId","loadDetail","components","CommentInput","Comments","MoreComments","backHandler","sendComments","PerNavTemp","sendClick","navtitle","beforTime","sendReply","parent","FloorLevel","floorList","level","floorDate","Date","toLocaleDateString","nowDate","floorTime","toLocaleTimeString","nowTime","lastTime","calcuFloorDeep","floorParent","currDeep","Parent"],"mappings":"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","file":"js/chunk-58a45d07.a63120eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"postdetail\",on:{\"click\":_vm.handler}},[_c('div',{staticClass:\"detail-header\"},[_c('div',{staticClass:\"left\"},[_c('i',{staticClass:\"iconfont icon-zuojiantou\",on:{\"click\":function($event){return _vm.$router.back()}}}),_c('i',{staticClass:\"iconfont icon-new\",on:{\"click\":function($event){return _vm.$router.back()}}})]),_c('div',{staticClass:\"right\"},[_c('span',{class:_vm.isAttention?'isActive':'',domProps:{\"textContent\":_vm._s(_vm.isAttention?'取消关注':'关注')},on:{\"click\":_vm.AttentionTo}})])]),(_vm.type==1|| _vm.content.indexOf('content')!=-1)?_c('div',{staticClass:\"normalPost\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('p',{staticClass:\"pmsg\"},[_c('span',{staticClass:\"postfrom\"},[_vm._v(_vm._s(_vm.nickname))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.create_date.split(\"T\")[0]))])]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})]):_vm._e(),(_vm.type==2 && _vm.content.indexOf('content')==-1)?_c('div',{staticClass:\"videoPost\"},[_c('div',{staticClass:\"videoCon\"},[_c('video',{attrs:{\"src\":_vm._f(\"filtContent\")(_vm.content),\"controls\":\"true\",\"muted\":\"muted\"},domProps:{\"muted\":true}})]),_c('div',{staticClass:\"articlefrom\"},[_c('div',{staticClass:\"userMsg\"},[_c('span',{staticClass:\"headImg\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL + _vm.head_img,\"alt\":\"\"}})]),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.nickname))])])]),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]):_vm._e(),_c('div',{staticClass:\"detailBot\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"dianzan\",class:_vm.isDianzan?'active':'',on:{\"click\":_vm.ckLike}},[_c('i',{staticClass:\"iconfont icon-dianzan\"}),_c('i',{staticClass:\"number\",staticStyle:{\"margin-left\":\"6px\"}},[_vm._v(_vm._s(_vm.like_length))])])]),_vm._m(0)]),_c('div',{staticClass:\"followUp\"},[_c('h3',[_vm._v(\"精彩跟帖\")]),_c('div',{staticClass:\"followList\"},_vm._l((_vm.commentList),function(comment,index){return _c('div',{key:index},[(index<3)?_c('comments',{attrs:{\"comment\":comment},on:{\"clickReply\":_vm.discuss}}):_vm._e()],1)}),0),_c('p',{staticClass:\"more\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.moreComments($event)}}},[_vm._v(\"更多跟帖\")])]),_c('commentInput',{attrs:{\"tienum\":_vm.commentsTotal,\"isStar\":_vm.isStar,\"showInput\":_vm.showInput,\"repParentId\":_vm.repParentId,\"repname\":_vm.repname},on:{\"discuss\":_vm.discuss,\"collection\":_vm.collection,\"share\":_vm.share,\"sendContent\":_vm.loadComments}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"weixin\"},[_c('i',{staticClass:\"iconfont icon-weixin\"}),_c('i',{staticClass:\"text\"},[_vm._v(\"微信\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"writeinp\",class:_vm.showInput?'showTextArea':'',on:{\"click\":function($event){$event.stopPropagation();return _vm.handler($event)}}},[(!_vm.showInput)?_c('div',{staticClass:\"inpCon\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"写跟帖\"},on:{\"focus\":_vm.discussEmit}}),_c('i',{staticClass:\"iconfont icon-pinglun\",on:{\"click\":function($event){$event.stopPropagation();return _vm.discussEmit($event)}}},[_c('span',{staticClass:\"tienum\"},[_vm._v(_vm._s(_vm.tienum))])]),_c('i',{staticClass:\"iconfont isStar\",class:_vm.isStar?'active':'',domProps:{\"textContent\":_vm._s(_vm.isStar?'★':'☆')},on:{\"click\":function($event){$event.stopPropagation();return _vm.collectionEmit($event)}}}),_c('i',{staticClass:\"iconfont  icon-share_icon\",on:{\"click\":function($event){$event.stopPropagation();return _vm.shareEmit($event)}}})]):_vm._e(),(_vm.showInput)?_c('div',{staticClass:\"textareaInput\"},[_c('textarea',{directives:[{name:\"focus\",rawName:\"v-focus\"},{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"writeCon\",attrs:{\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}}),_c('button',{staticClass:\"sendBtn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.sendDiscuss($event)}}},[_vm._v(\"发送\")]),(!_vm.content&&_vm.repname)?_c('div',{staticClass:\"repwho\"},[_vm._v(\"回复:@\"+_vm._s(_vm.repname))]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 输入框没有获取焦点 -->\r\n  <div class=\"writeinp\" :class=\"showInput?'showTextArea':''\" @click.stop=\"handler\">\r\n    <div class=\"inpCon\" v-if=\"!showInput\">\r\n      <input type=\"text\" placeholder=\"写跟帖\" @focus=\"discussEmit\" />\r\n      <i class=\"iconfont icon-pinglun\" @click.stop=\"discussEmit\">\r\n        <span class=\"tienum\">{{tienum}}</span>\r\n      </i>\r\n      <i\r\n        class=\"iconfont isStar\"\r\n        @click.stop=\"collectionEmit\"\r\n        v-text=\"isStar?'★':'☆'\"\r\n        :class=\"isStar?'active':''\"\r\n      ></i>\r\n      <!-- -->\r\n      <i class=\"iconfont  icon-share_icon\"  @click.stop=\"shareEmit\"></i>\r\n    </div>\r\n    <!-- 输入框获取焦点，或者点击评论图标 -->\r\n    <div class=\"textareaInput\" v-if=\"showInput\">\r\n      <textarea class=\"writeCon\" v-focus name id v-model=\"content\"></textarea>\r\n      <button class=\"sendBtn\" @click.stop=\"sendDiscuss\">发送</button>\r\n      <!-- 写一个盒子，来放当前回复的是哪一个用户，用定位定到文本域 -->\r\n      <div v-if=\"!content&&repname\" class=\"repwho\">回复:@{{repname}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  directives: {\r\n    focus: {\r\n      inserted: function (el) {\r\n        el.focus();\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      content: \"\",\r\n    };\r\n  },\r\n  props: [\"isStar\", \"tienum\", \"showInput\", \"repParentId\", \"repname\"],\r\n  computed: {},\r\n  methods: {\r\n    // 评论\r\n    discussEmit() {\r\n      this.$emit(\"discuss\");\r\n    },\r\n    // 收藏\r\n    collectionEmit() {\r\n      this.$emit(\"collection\");\r\n    },\r\n    // 分享\r\n    shareEmit() {\r\n      this.$emit(\"share\");\r\n    },\r\n    // showInpCon() {\r\n    //   console.log(\"失去焦点\");\r\n    //   this.showInput = false;\r\n    // },\r\n    // 评论方法\r\n    sendDiscuss() {\r\n      if (this.content.trim() == \"\") {\r\n        this.$toast(\"请不要输入空值\");\r\n        return;\r\n      }\r\n      console.log(\"发送信息\");\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.$route.query.id,\r\n        method: \"post\",\r\n        data: {\r\n          content: this.content,\r\n          parent_id: this.repParentId || null,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res);\r\n        this.$toast.success(res.data.message);\r\n        // 清空数据\r\n        this.content = \"\";\r\n        // 传递事件给父组件\r\n        this.$emit(\"sendContent\");\r\n      });\r\n    },\r\n    handler() {\r\n      //   console.log(\"点击了输入组件\");\r\n      this.$emit(\"sendClickArea\");\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.writeinp {\r\n  position: fixed;\r\n  display: flex;\r\n  z-index: 100;\r\n  background: #f2f2f2;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  border-top: 2px solid #e4e4e4;\r\n  height: 60/360 * 100vw;\r\n  .inpCon {\r\n    line-height: 60/360 * 100vw;\r\n    padding: 0 24/360 * 100vw;\r\n    input {\r\n      height: 30/360 * 100vw;\r\n      border-radius: 15/360 * 100vw;\r\n      background: #d7d7d7;\r\n      text-indent: 10/360 * 100vw;\r\n    }\r\n    .iconfont {\r\n      position: relative;\r\n      font-size: 22/360 * 100vw;\r\n      margin-left: 24/360 * 100vw;\r\n      vertical-align: middle;\r\n    }\r\n    .tienum {\r\n      position: absolute;\r\n      top: -6 /360 * 100vw;\r\n      right: -16 /360 * 100vw;\r\n      height: 15/360 * 100vw;\r\n      line-height: 15/360 * 100vw;\r\n      background: red;\r\n      color: #fff;\r\n      padding: 0 4/360 * 100vw;\r\n      border-radius: 20/360 * 100vw;\r\n      font-size: 12/360 * 100vw;\r\n    }\r\n    .isStar {\r\n      font-size: 28/360 * 100vw;\r\n    }\r\n    .active {\r\n      color: gold;\r\n    }\r\n  }\r\n  .textareaInput {\r\n    position: relative;\r\n    .writeCon {\r\n      resize: none;\r\n      border-radius: 4/360 * 100vw;\r\n      border: none;\r\n      font-size: 16/360 * 100vw;\r\n      width: 220/360 * 100vw;\r\n      height: 90/360 * 100vw;\r\n      background: #d7d7d7;\r\n      padding: 10/360 * 100vw;\r\n    }\r\n    .sendBtn {\r\n      position: absolute;\r\n      right: -100/360 * 100vw;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      padding: 7/360 * 100vw 17/360 * 100vw;\r\n      background: rgb(63, 186, 235);\r\n      border: none;\r\n      font-size: 14/360 * 100vw;\r\n      color: #fff;\r\n      border-radius: 20/360 * 100vw;\r\n    }\r\n    // 显示回复谁的div样式\r\n    .repwho {\r\n      display: inline-block;\r\n      position: absolute;\r\n      z-index: 1;\r\n      top: 8/360 * 100vw;\r\n      left: 14/360 * 100vw;\r\n      font-size: 16/360 * 100vw;\r\n      color: #949494;\r\n    }\r\n  }\r\n}\r\n.showTextArea {\r\n  height: 120 /360 * 100vw;\r\n  padding: 15/360 * 100vw;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentInput.vue?vue&type=template&id=0339d42c&scoped=true&\"\nimport script from \"./CommentInput.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentInput.vue?vue&type=style&index=0&id=0339d42c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0339d42c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"postdetail\" @click=\"handler\">\r\n    <!-- 头部栏 -->\r\n    <div class=\"detail-header\">\r\n      <div class=\"left\">\r\n        <i class=\"iconfont icon-zuojiantou\" @click=\"$router.back()\"></i>\r\n        <i class=\"iconfont icon-new\" @click=\"$router.back()\"></i>\r\n      </div>\r\n      <div class=\"right\">\r\n        <span\r\n          v-cloak\r\n          @click=\"AttentionTo\"\r\n          v-text=\"isAttention?'取消关注':'关注'\"\r\n          :class=\"isAttention?'isActive':''\"\r\n        ></span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 普通文章详情 -->\r\n    <div v-if=\"type==1|| content.indexOf('content')!=-1\" class=\"normalPost\">\r\n      <h3 class=\"title\">{{title}}</h3>\r\n      <p class=\"pmsg\">\r\n        <span class=\"postfrom\">{{nickname}}</span>\r\n        <span class=\"time\">{{create_date.split(\"T\")[0]}}</span>\r\n      </p>\r\n      <!-- <div class=\"imgcon\" v-if=\"postImg\">\r\n        <img :src=\"postImg\" alt />\r\n      </div>-->\r\n      <div class=\"content\" v-html=\"content\"></div>\r\n    </div>\r\n    <!-- 视频文章详情 -->\r\n    <div v-if=\"type==2 && content.indexOf('content')==-1\" class=\"videoPost\">\r\n      <div class=\"videoCon\">\r\n        <video :src=\"content|filtContent\" controls=\"true\" muted=\"muted\"></video>\r\n        <!-- <video\r\n          controls=\"true\"\r\n          muted=\"muted\"\r\n          src=\"https://cn-gdfs2-cc-bcache-14.bilivideo.com/upgcxcode/52/54/122705452/122705452-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&amp;uipk=5&amp;nbs=1&amp;deadline=1597925656&amp;gen=playurl&amp;os=bcache&amp;oi=3698568820&amp;trid=8993e6823c5d43349d7bca1d5dade5b8h&amp;platform=html5&amp;upsig=b3a1940602a1fca495274fd051df28f0&amp;uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&amp;cdnid=9843&amp;mid=44167326&amp;cip=211.162.51.157&amp;logo=80000000\"\r\n        ></video>-->\r\n        <!-- <div class v-if=\"content.indexOf('iframe')!=-1\" v-html=\"content\"></div> -->\r\n      </div>\r\n      <div class=\"articlefrom\">\r\n        <div class=\"userMsg\">\r\n          <span class=\"headImg\">\r\n            <img :src=\"$axios.defaults.baseURL + head_img\" alt />\r\n          </span>\r\n          <span class=\"text\">{{nickname}}</span>\r\n        </div>\r\n        <!-- <div class=\"attention\">\r\n          <span>关注</span>\r\n        </div>-->\r\n      </div>\r\n      <h3 class=\"title\">{{title}}</h3>\r\n    </div>\r\n    <!-- 点赞微信 -->\r\n    <div class=\"detailBot\">\r\n      <div class=\"left\">\r\n        <span class=\"dianzan\" :class=\"isDianzan?'active':''\" @click=\"ckLike\">\r\n          <i class=\"iconfont icon-dianzan\"></i>\r\n          <i class=\"number\" style=\"margin-left:6px\">{{like_length}}</i>\r\n        </span>\r\n      </div>\r\n      <div class=\"right\">\r\n        <span class=\"weixin\">\r\n          <i class=\"iconfont icon-weixin\"></i>\r\n          <i class=\"text\">微信</i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <!-- 精彩跟帖 -->\r\n    <div class=\"followUp\">\r\n      <h3>精彩跟帖</h3>\r\n      <!-- 跟帖内容组件 显示三条 -->\r\n      <div class=\"followList\">\r\n        <div v-for=\"(comment, index) in commentList\" :key=\"index\">\r\n          <comments @clickReply=\"discuss\" :comment=\"comment\" v-if=\"index<3\"></comments>\r\n        </div>\r\n      </div>\r\n      <p class=\"more\">\r\n        <a href=\"#\" @click.stop.prevent=\"moreComments\">更多跟帖</a>\r\n      </p>\r\n      <!-- 评论跟帖组件 -->\r\n      <!-- @sendClickArea=\"clickInput\" -->\r\n      <!-- @discuss=\"discuss\" -->\r\n      <commentInput\r\n        :tienum=\"commentsTotal\"\r\n        :isStar=\"isStar\"\r\n        :showInput=\"showInput\"\r\n        @discuss=\"discuss\"\r\n        @collection=\"collection\"\r\n        @share=\"share\"\r\n        @sendContent=\"loadComments\"\r\n        :repParentId=\"repParentId\"\r\n        :repname=\"repname\"\r\n      ></commentInput>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentInput from \"@/components/comment/CommentInput.vue\";\r\nimport Comments from \"@/components/comment/Comments.vue\";\r\n// 引入跟多跟帖组件\r\nimport MoreComments from \"@/views/MoreComments.vue\";\r\nexport default {\r\n  filters: {\r\n    filtContent: function (val) {\r\n      // let str = val.replace(/<\\/?[^>]*>/g, \"\");\r\n      // val = val.replace(/(\\n)/g, \"\");\r\n      // val = val.replace(/(\\t)/g, \"\");F\r\n      // val = val.replace(/(\\r)/g, \"\");\r\n      // val = val.replace(/<\\/?[^>]*>/g, \"\");\r\n      // val = val.replace(/\\s*/g, \"\");\r\n      let str = val.match(/src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i);\r\n      str = str[0].match(/(?<=\").*?(?=\")/g);\r\n      return str[0];\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      type: 1,\r\n      title: \"\",\r\n      create_date: \"\",\r\n      content: \"\",\r\n      nickname: \"\",\r\n      postImg: \"\",\r\n      head_img: \"\",\r\n      userId: \"\",\r\n      isAttention: false,\r\n      AticelId: \"\",\r\n      like_length: \"\",\r\n      isDianzan: false,\r\n      commentList: [],\r\n      repParentId: \"\",\r\n      commentsTotal: 0,\r\n      isStar: false,\r\n      showInput: false,\r\n      repname: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    // 关注方法\r\n    AttentionTo() {\r\n      if (this.isAttention) {\r\n        console.log(\"取消关注\" + this.userId);\r\n        this.$axios({\r\n          url: \"/user_unfollow/\" + this.userId,\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if ((res.message = \"取消关注成功\")) {\r\n            this.$toast.success(\"取消关注成功\");\r\n          }\r\n        });\r\n      } else {\r\n        console.log(\"关注用户\" + this.userId);\r\n        this.$axios({\r\n          url: \"/user_follows/\" + this.userId,\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if (res.data.message == \"关注成功\") {\r\n            this.$toast.success(res.data.message);\r\n          }\r\n        });\r\n      }\r\n      this.isAttention = !this.isAttention;\r\n      // 发送关注ajax请求\r\n    },\r\n    // 点击评论和输入框显示文本域方法\r\n    discuss(val, repname) {\r\n      // console.log(\"点击了输入框，显示文本域输入框\");\r\n      console.log(\"回复文章的id为\" + val);\r\n      console.log(\"回复的用户name为：\" + repname);\r\n      // 将回复文章的id传给CommentInput子组件\r\n      this.repParentId = val;\r\n      this.showInput = true;\r\n      // 将回复的用户name传给CommentInput组组件\r\n      this.repname = repname;\r\n    },\r\n    // 收藏方法\r\n    collection() {\r\n      this.$axios({\r\n        url: \"/post_star/\" + this.AticelId,\r\n        method: \"GET\",\r\n      }).then((res) => {\r\n        console.log(res);\r\n        this.isStar = !this.isStar;\r\n        this.$toast.success(res.data.message);\r\n      });\r\n    },\r\n    // 分享方法\r\n    share() {\r\n      console.log(\"分享\");\r\n      this.$toast.fail(\"该网站目前禁止分享\")\r\n    },\r\n    // 点赞方法\r\n    ckLike() {\r\n      this.$axios({\r\n        url: \"/post_like/\" + this.AticelId,\r\n        method: \"GET\",\r\n      }).then((res) => {\r\n        console.log(res);\r\n        this.isDianzan = !this.isDianzan;\r\n        this.$toast.success(res.data.message);\r\n        if (res.data.message == \"点赞成功\") {\r\n          this.like_length += 1;\r\n        } else {\r\n          this.like_length -= 1;\r\n        }\r\n      });\r\n    },\r\n    // 加载文章详情\r\n    loadDetail() {\r\n      // 请求文章详情接口\r\n      this.$axios({\r\n        url: \"/post/\" + this.$route.query.id,\r\n        method: \"get\",\r\n      }).then((res) => {\r\n        console.log(res.data.data);\r\n        this.type = res.data.data.type;\r\n        this.title = res.data.data.title;\r\n        this.create_date = res.data.data.create_date;\r\n        this.content = res.data.data.content;\r\n        this.nickname = res.data.data.user.nickname;\r\n        this.postImg = res.data.data.cover[0].url;\r\n        this.head_img = res.data.data.user.head_img;\r\n        this.userId = res.data.data.user.id;\r\n        this.AticelId = res.data.data.id;\r\n        this.isStar = res.data.data.has_star;\r\n        this.like_length = res.data.data.like_length;\r\n        this.isDianzan = res.data.data.has_like;\r\n\r\n        let isAttention = res.data.data.user;\r\n\r\n        this.$axios({\r\n          url: \"/user_follows\",\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          res.data.data.forEach((item) => {\r\n            if (item.id == isAttention.id) {\r\n              this.isAttention = true;\r\n            }\r\n          });\r\n        });\r\n      });\r\n    },\r\n    // 点击文章详情组件，隐藏文本域输入框处理函数\r\n    handler() {\r\n      console.log(\"点击了文章详情组件,隐藏文本域输入框\");\r\n      this.showInput = false;\r\n    },\r\n    // 点击输入框组件，显示文本域输入框\r\n    // clickInput() {\r\n    //   console.log(\"点击了输入框，显示文本域输入框\");\r\n    //   this.showInput = true;\r\n    // },\r\n    // 加载评论的方法\r\n    loadComments() {\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.$route.query.id,\r\n        method: \"get\",\r\n      }).then((res) => {\r\n        // console.log(res.data.data);\r\n        this.commentList = res.data.data;\r\n        this.commentsTotal = res.data.data.length;\r\n        this.showInput = false;\r\n      });\r\n    },\r\n    // 跳转更多跟帖页面函数\r\n    moreComments() {\r\n      this.$router.push({\r\n        path: \"/morecomments\",\r\n        query: { articleId: this.$route.query.id },\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    //加载文章详情\r\n    this.loadDetail();\r\n    // 加载文章评论列表\r\n    this.loadComments();\r\n  },\r\n  components: {\r\n    CommentInput,\r\n    Comments,\r\n    MoreComments,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n[v-cloak] {\r\n  display: none;\r\n}\r\n.postdetail {\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: #f2f2f2;\r\n  h3 {\r\n    font-size: 20/360 * 100vw;\r\n  }\r\n  // 头部样式\r\n  .detail-header {\r\n    position: fixed;\r\n    top: 0;\r\n    background: #f2f2f2;\r\n    border-bottom: 1px solid #e4e4e4;\r\n    height: 40/360 * 100vw;\r\n    width: 100vw;\r\n    display: flex;\r\n    .left {\r\n      position: relative;\r\n      line-height: 40/360 * 100vw;\r\n      padding-left: 12/360 * 100vw;\r\n      flex: 1;\r\n      .iconfont {\r\n        font-size: 23/360 * 100vw;\r\n      }\r\n      .icon-new {\r\n        position: absolute;\r\n        left: 34/360 * 100vw;\r\n        font-size: 44/360 * 100vw;\r\n      }\r\n    }\r\n    .right {\r\n      flex: 1;\r\n      text-align: right;\r\n      padding-right: 20/360 * 100vw;\r\n      line-height: 40/360 * 100vw;\r\n      .isActive {\r\n        background: #a0a0a0;\r\n        color: #fff;\r\n      }\r\n      span {\r\n        padding: 6/360 * 100vw 16/360 * 100vw;\r\n        background: #3f98ec;\r\n        border-radius: 13/360 * 100vw;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  // 普通新闻详情\r\n  .normalPost {\r\n    padding: 10/360 * 100vw 20/360 * 100vw;\r\n    margin-top: 40/360 * 100vw;\r\n    .pmsg {\r\n      color: #868686;\r\n      margin-top: 5/360 * 100vw;\r\n      .time {\r\n        margin-left: 20/360 * 100vw;\r\n      }\r\n    }\r\n    .imgcon {\r\n      margin-top: 10/360 * 100vw;\r\n      width: 325/360 * 100vw;\r\n      height: 180/360 * 100vw;\r\n      object-fit: contain;\r\n      img {\r\n        width: 325/360 * 100vw;\r\n        height: 180/360 * 100vw;\r\n        // width: 330/360 * 100vw;\r\n        // height: 180/360 * 100vw;\r\n      }\r\n    }\r\n    .content {\r\n      font-size: 16/360 * 100vw;\r\n      margin-top: 10/360 * 100vw;\r\n      line-height: 30/360 * 100vw;\r\n      /deep/ img {\r\n        width: 325/360 * 100vw;\r\n        height: 180/360 * 100vw;\r\n      }\r\n    }\r\n  }\r\n  // 视频新闻详情\r\n  .videoPost {\r\n    margin-top: 40/360 * 100vw;\r\n\r\n    .videoCon {\r\n      width: 100vw;\r\n      video {\r\n        width: 100vw;\r\n        max-height: 400px;\r\n      }\r\n    }\r\n\r\n    .articlefrom {\r\n      display: flex;\r\n      height: 60/360 * 100vw;\r\n      padding: 10/360 * 100vw 15/360 * 100vw;\r\n      .userMsg {\r\n        flex: 1;\r\n        .headImg {\r\n          vertical-align: middle;\r\n          display: inline-block;\r\n          width: 40/360 * 100vw;\r\n          height: 40/360 * 100vw;\r\n          border-radius: 20/360 * 100vw;\r\n          // object-fit: contain;\r\n          overflow: hidden;\r\n          img {\r\n            width: 40/360 * 100vw;\r\n            height: 40/360 * 100vw;\r\n          }\r\n        }\r\n        .text {\r\n          display: inline-block;\r\n          margin-left: 10/360 * 100vw;\r\n        }\r\n      }\r\n      .attention {\r\n        flex: 1;\r\n        text-align: right;\r\n        span {\r\n          line-height: 40/360 * 100vw;\r\n          padding: 6/360 * 100vw 16/360 * 100vw;\r\n          background: #3f98ec;\r\n          border-radius: 13/360 * 100vw;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n    h3.title {\r\n      font-weight: 400;\r\n      padding: 0 15/360 * 100vw;\r\n      font-size: 16/360 * 100vw;\r\n    }\r\n  }\r\n  // 点赞微信\r\n  .detailBot {\r\n    height: 50/360 * 100vw;\r\n    display: flex;\r\n    margin-top: 10/360 * 100vw;\r\n    > div {\r\n      flex: 1;\r\n      line-height: 50/360 * 100vw;\r\n      text-align: center;\r\n      > span {\r\n        padding: 6/360 * 100vw 12/360 * 100vw;\r\n        border: 1px solid #797979;\r\n        border-radius: 16/360 * 100vw;\r\n        > i {\r\n          font-style: normal;\r\n        }\r\n        .icon-dianzan {\r\n          font-size: 16/360 * 100vw;\r\n        }\r\n        .icon-weixin {\r\n          color: #00c200;\r\n          font-size: 16/360 * 100vw;\r\n        }\r\n      }\r\n      .active {\r\n        background: skyblue;\r\n        color: rgb(255, 255, 255);\r\n        border: #fff;\r\n      }\r\n    }\r\n  }\r\n  // 跟帖\r\n  .followUp {\r\n    margin-top: 20/360 * 100vw;\r\n    padding-bottom: 40/360 * 100vw;\r\n    min-height: 280/360 * 100vw;\r\n    border-top: 5px solid #e4e4e4;\r\n    h3 {\r\n      text-align: center;\r\n      font-weight: 400;\r\n      font-size: 22/360 * 100vw;\r\n      margin-top: 20/360 * 100vw;\r\n    }\r\n    .followList {\r\n      margin-top: 20/360 * 100vw;\r\n    }\r\n    .more {\r\n      // border-top: 1px solid rgb(173, 173, 173);\r\n      padding-top: 20/360 * 100vw;\r\n      margin-top: 40/360 * 100vw;\r\n      margin-bottom: 100/360 * 100vw;\r\n      text-align: center;\r\n      > a {\r\n        border: 1px solid #8f8f8f;\r\n        border-radius: 20/360 * 100vw;\r\n        padding: 10/360 * 100vw 20/360 * 100vw;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostDetail.vue?vue&type=template&id=58f0a856&scoped=true&\"\nimport script from \"./PostDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PostDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostDetail.vue?vue&type=style&index=0&id=58f0a856&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58f0a856\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=style&index=0&id=0339d42c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=style&index=0&id=0339d42c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.commentList)?_c('div',{staticClass:\"moreComments\",on:{\"click\":function($event){$event.stopPropagation();_vm.showInput=false}}},[_c('div',{staticClass:\"header\"},[_c('per-nav-temp',{attrs:{\"navtitle\":'精彩跟帖'},on:{\"clickNav\":function($event){return _vm.backHandler('返回文章详情页')}}})],1),_c('div',{staticClass:\"followList\"},[_vm._l((_vm.commentList),function(comment,index){return _c('div',{key:index},[_c('comments',{attrs:{\"comment\":comment},on:{\"clickReply\":_vm.discuss}})],1)}),_vm._m(0)],2),_c('div',{staticClass:\"sendComments\",on:{\"click\":function($event){$event.stopPropagation();_vm.showInput=true}}},[_c('div',{staticClass:\"writeinp\"},[(!_vm.showInput)?_c('div',{staticClass:\"inpCon\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"写跟帖\"},on:{\"focus\":function($event){$event.stopPropagation();_vm.showInput=true}}})]):_vm._e(),(_vm.showInput)?_c('div',{staticClass:\"textareaInput\",class:_vm.showInput?'showTextArea':''},[_c('textarea',{directives:[{name:\"focus\",rawName:\"v-focus\"},{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"writeCon\",attrs:{\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]):_vm._e(),_c('button',{staticClass:\"sendBtn\",on:{\"click\":_vm.sendComments}},[_vm._v(\"发送\")])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"botMsg\"},[_c('h4',[_vm._v(\"已经加载完毕啦\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"moreComments\" @click.stop=\"showInput=false\" v-if=\"commentList\">\r\n    <!-- 头部返回栏 -->\r\n    <div class=\"header\">\r\n      <per-nav-temp :navtitle=\"'精彩跟帖'\" @clickNav=\"backHandler('返回文章详情页')\"></per-nav-temp>\r\n    </div>\r\n    <!-- 跟帖内容 -->\r\n    <div class=\"followList\">\r\n      <div v-for=\"(comment, index) in commentList\" :key=\"index\">\r\n        <comments @clickReply=\"discuss\" :comment=\"comment\"></comments>\r\n      </div>\r\n      <div class=\"botMsg\">\r\n        <h4>已经加载完毕啦</h4>\r\n      </div>\r\n    </div>\r\n    <!-- 评论框 -->\r\n    <div class=\"sendComments\" @click.stop=\"showInput=true\">\r\n      <div class=\"writeinp\">\r\n        <div class=\"inpCon\" v-if=\"!showInput\">\r\n          <input type=\"text\" placeholder=\"写跟帖\" @focus.stop=\"showInput=true\" />\r\n        </div>\r\n        <!-- 输入框获取焦点，或者点击评论图标 -->\r\n        <div class=\"textareaInput\" :class=\"showInput?'showTextArea':''\" v-if=\"showInput\">\r\n          <textarea class=\"writeCon\" v-focus name id v-model=\"content\"></textarea>\r\n        </div>\r\n        <button class=\"sendBtn\" @click=\"sendComments\">发送</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PerNavTemp from \"@/components/PerNavTemp.vue\";\r\nimport Comments from \"@/components/comment/Comments.vue\";\r\nexport default {\r\n  directives: {\r\n    focus: {\r\n      inserted: function (el) {\r\n        el.focus();\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      showInput: false,\r\n      content: \"\",\r\n      commentList: [],\r\n      repParentId: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    PerNavTemp,\r\n    Comments,\r\n  },\r\n  methods: {\r\n    backHandler() {\r\n      this.$router.back();\r\n    },\r\n    // 点击评论和输入框显示文本域方法\r\n    discuss(val) {\r\n      // console.log(\"点击了输入框，显示文本域输入框\");\r\n      console.log(\"回复文章的id为\" + val);\r\n      // 将回复文章的id传给CommentInput子组件\r\n      this.repParentId = val;\r\n      this.showInput = true;\r\n    },\r\n    changeInput() {\r\n      this.showInput = true;\r\n    },\r\n    sendComments() {\r\n      if (this.content.trim() == \"\") {\r\n        this.$toast(\"请不要输入空值\");\r\n        return;\r\n      }\r\n      console.log(\"发送信息\");\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.$route.query.articleId,\r\n        method: \"post\",\r\n        data: {\r\n          content: this.content,\r\n          parent_id: this.repParentId || null,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res);\r\n        this.$toast.success(res.data.message);\r\n        // 清空数据\r\n        this.content = \"\";\r\n        this.loadComments();\r\n      });\r\n    },\r\n    loadComments() {\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.$route.query.articleId,\r\n        method: \"get\",\r\n      }).then((res) => {\r\n        console.log(res.data.data);\r\n        this.commentList = res.data.data;\r\n      });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.loadComments();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.homepage {\r\n  background: #f2f2f2;\r\n}\r\n.moreComments {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  min-height: 100vh;\r\n  background: #f6f6f6;\r\n  z-index: 200;\r\n  .header {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100vw;\r\n  }\r\n  .followList {\r\n    position: relative;\r\n    z-index: -1;\r\n    margin-top: 50/360 * 100vw;\r\n    padding-bottom: 200/360 * 100vw;\r\n    .botMsg {\r\n      position: absolute;\r\n      width: 100vw;\r\n      bottom: 140/360 * 100vw;\r\n      border-bottom: 1px solid rgb(185, 185, 185);\r\n      h4 {\r\n        z-index: 10;\r\n        position: absolute;\r\n        left: 50%;\r\n        bottom: -10/360 * 100vw;\r\n        transform: translateX(-50%);\r\n        background: #f6f6f6;\r\n        color: rgb(149, 149, 149);\r\n        text-align: center;\r\n        font-weight: 400;\r\n        font-size: 12/360 * 100vw;\r\n        width: 100/360 * 100vw;\r\n      }\r\n    }\r\n  }\r\n  .sendComments {\r\n    .writeinp {\r\n      position: fixed;\r\n      display: flex;\r\n      z-index: 100;\r\n      background: #f2f2f2;\r\n      bottom: 0;\r\n      width: 100vw;\r\n      border-top: 2px solid #e4e4e4;\r\n      .inpCon {\r\n        line-height: 60/360 * 100vw;\r\n        padding: 0 24/360 * 100vw;\r\n        input {\r\n          height: 30/360 * 100vw;\r\n          border-radius: 15/360 * 100vw;\r\n          background: #d7d7d7;\r\n          text-indent: 10/360 * 100vw;\r\n        }\r\n      }\r\n      .writeCon {\r\n        resize: none;\r\n        border-radius: 4/360 * 100vw;\r\n        border: none;\r\n        font-size: 16/360 * 100vw;\r\n        width: 220/360 * 100vw;\r\n        height: 90/360 * 100vw;\r\n        background: #d7d7d7;\r\n        padding: 10/360 * 100vw;\r\n      }\r\n      .sendBtn {\r\n        position: absolute;\r\n        right: 30/360 * 100vw;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        padding: 7/360 * 100vw 17/360 * 100vw;\r\n        background: rgb(63, 186, 235);\r\n        border: none;\r\n        font-size: 14/360 * 100vw;\r\n        color: #fff;\r\n        border-radius: 20/360 * 100vw;\r\n      }\r\n    }\r\n    .showTextArea {\r\n      height: 120 /360 * 100vw;\r\n      padding: 15/360 * 100vw;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoreComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoreComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoreComments.vue?vue&type=template&id=0bd07904&scoped=true&\"\nimport script from \"./MoreComments.vue?vue&type=script&lang=js&\"\nexport * from \"./MoreComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoreComments.vue?vue&type=style&index=0&id=0bd07904&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bd07904\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parent.vue?vue&type=style&index=0&id=0a540199&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parent.vue?vue&type=style&index=0&id=0a540199&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostDetail.vue?vue&type=style&index=0&id=58f0a856&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostDetail.vue?vue&type=style&index=0&id=58f0a856&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoreComments.vue?vue&type=style&index=0&id=0bd07904&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoreComments.vue?vue&type=style&index=0&id=0bd07904&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pernav\"},[_c('div',{staticClass:\"edithead\"},[_c('i',{staticClass:\"iconfont icon-fanhui\",on:{\"click\":_vm.sendClick}}),_c('b',[_vm._v(_vm._s(_vm.navtitle))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pernav\">\r\n    <div class=\"edithead\">\r\n      <i class=\"iconfont icon-fanhui\" @click=\"sendClick\"></i>\r\n      <b>{{navtitle}}</b>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"navtitle\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    sendClick() {\r\n      this.$emit(\"clickNav\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.edithead {\r\n  position: relative;\r\n  z-index: 999;\r\n  text-align: center;\r\n  line-height: 48/360 * 100vw;\r\n  border-bottom: 1px solid #d0cfcf;\r\n  background: url('../assets/images/perbg4.jpg') no-repeat center;\r\n  background-size: cover;\r\n  color: #fff;\r\n  .iconfont {\r\n    position: absolute;\r\n    left: 15/360 * 100vw;\r\n    width: 30/360 * 100vw;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PerNavTemp.vue?vue&type=template&id=664cd19b&scoped=true&\"\nimport script from \"./PerNavTemp.vue?vue&type=script&lang=js&\"\nexport * from \"./PerNavTemp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"664cd19b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=4e0a4b62&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=4e0a4b62&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comments\"},[_c('div',{staticClass:\"comUser\"},[_c('div',{staticClass:\"headImg\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL+_vm.comment.user.head_img,\"alt\":\"\"}})]),_c('div',{staticClass:\"comMsg\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.comment.user.nickname))]),_c('span',{staticClass:\"comTime\"},[_vm._v(_vm._s(_vm.beforTime))])]),_c('div',{staticClass:\"reply\"},[_c('a',{attrs:{\"href\":\"#\",\"data-id\":_vm.comment.id},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.sendReply(_vm.comment.id,_vm.comment.user.nickname)}}},[_vm._v(\"回复\")])])]),(_vm.comment.parent)?_c('div',{staticClass:\"floor\"},[_c('parent',{attrs:{\"floorList\":_vm.comment.parent,\"level\":_vm.FloorLevel},on:{\"clickReply\":_vm.sendReply}})],1):_vm._e(),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.comment.content))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"parentContent\"},[(_vm.floorList.parent)?_c('parent',{attrs:{\"level\":_vm.level-1,\"floorList\":_vm.floorList.parent},on:{\"clickReply\":_vm.sendReply}}):_vm._e(),_c('div',{staticClass:\"comInfo\"},[_c('div',{staticClass:\"userCom\"},[_c('span',{staticClass:\"floor\"},[_vm._v(\"第 \"+_vm._s(_vm.level)+\" 楼\")]),_c('span',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.floorList.user.nickname))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.beforTime))]),_c('span',{staticClass:\"reply\"},[_c('a',{attrs:{\"href\":\"#\",\"data-id\":_vm.floorList.id},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.sendReply(_vm.floorList.id,_vm.floorList.user.nickname)}}},[_vm._v(\"回复\")])])]),_c('div',{staticClass:\"comments\"},[_vm._v(_vm._s(_vm.floorList.content))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"parentContent\">\r\n    <!-- level计算出来的是计算最深的楼层深度，因此递归的时候要传入一个每次-1的level -->\r\n    <parent\r\n      v-if=\"floorList.parent\"\r\n      :level=\"level-1\"\r\n      :floorList=\"floorList.parent\"\r\n      @clickReply=\"sendReply\"\r\n    ></parent>\r\n    <div class=\"comInfo\">\r\n      <!-- 楼层、用户、时间信息 -->\r\n      <div class=\"userCom\">\r\n        <span class=\"floor\">第 {{level}} 楼</span>\r\n        <span class=\"nickname\">{{floorList.user.nickname}}</span>\r\n        <span class=\"time\">{{beforTime}}</span>\r\n        <span class=\"reply\">\r\n          <a href=\"#\" @click.prevent.stop=\"sendReply(floorList.id,floorList.user.nickname)\" :data-id=\"floorList.id\">回复</a>\r\n        </span>\r\n      </div>\r\n      <!-- 评论内容 -->\r\n      <div class=\"comments\">{{floorList.content}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Parent\",\r\n  props: [\"floorList\", \"level\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    // 计算回复的时间\r\n    beforTime() {\r\n      let floorDate = new Date(this.floorList.create_date)\r\n        .toLocaleDateString()\r\n        .split(\"/\");\r\n      let nowDate = new Date().toLocaleDateString().split(\"/\");\r\n      if (nowDate[0] - floorDate[0] != 0) {\r\n        return nowDate[0] - floorDate[0] + \"年前\";\r\n      }\r\n      if (nowDate[1] - floorDate[1] != 0) {\r\n        return nowDate[1] - floorDate[1] + \"月前\";\r\n      }\r\n      if (nowDate[2] - floorDate[2] != 0) {\r\n        return nowDate[2] - floorDate[2] + \"天前\";\r\n      }\r\n      let floorTime = new Date(this.floorList.create_date)\r\n        .toLocaleTimeString()\r\n        .split(\":\")[0]\r\n        .split(\"午\")[1];\r\n      let nowTime = new Date()\r\n        .toLocaleTimeString()\r\n        .split(\":\")[0]\r\n        .split(\"午\")[1];\r\n      let lastTime =\r\n        nowTime - floorTime == 0 ? \"1小时内\" : nowTime - floorTime + \"小时前\";\r\n      return lastTime;\r\n    },\r\n  },\r\n  methods: {\r\n    // 向父组件传递自定义事件，并且附带回复用户的ID值\r\n    sendReply(val,repname) {\r\n      this.$emit(\"clickReply\", val,repname);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.parentContent {\r\n  .comInfo {\r\n    border: 1px solid #d0d0d0;\r\n    margin-bottom: -1px;\r\n    background: #eeeeee;\r\n    padding: 10/360 * 100vw 15/360 * 100vw 20/360 * 100vw;\r\n    .userCom {\r\n      font-size: 14/360 * 100vw;\r\n      > span {\r\n        &:first-child {\r\n          margin-left: 0;\r\n        }\r\n        margin-left: 10/360 * 100vw;\r\n      }\r\n      .floor,\r\n      .nickname {\r\n        color: #000000;\r\n      }\r\n      .time {\r\n        color: #a4a4a4;\r\n        font-size: 12/360 * 100vw;\r\n      }\r\n      .reply {\r\n        float: right;\r\n        a {\r\n          color: #666666;\r\n          font-size: 12/360 * 100vw;\r\n        }\r\n      }\r\n    }\r\n    .comments {\r\n      color: #000000;\r\n      font-size: 14/360 * 100vw;\r\n      margin-top: 15/360 * 100vw;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Parent.vue?vue&type=template&id=0a540199&scoped=true&\"\nimport script from \"./Parent.vue?vue&type=script&lang=js&\"\nexport * from \"./Parent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Parent.vue?vue&type=style&index=0&id=0a540199&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a540199\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comments\">\r\n    <!-- 评论用户信息 -->\r\n    <div class=\"comUser\">\r\n      <div class=\"headImg\">\r\n        <img :src=\"$axios.defaults.baseURL+comment.user.head_img\" alt />\r\n      </div>\r\n      <div class=\"comMsg\">\r\n        <span class=\"nickname\">{{comment.user.nickname}}</span>\r\n        <span class=\"comTime\">{{beforTime}}</span>\r\n      </div>\r\n      <div class=\"reply\">\r\n        <a href=\"#\" @click.stop.prevent=\"sendReply(comment.id,comment.user.nickname)\" :data-id=\"comment.id\">回复</a>\r\n      </div>\r\n    </div>\r\n    <!-- 楼层内容 -->\r\n    <div class=\"floor\" v-if=\"comment.parent\">\r\n      <parent :floorList=\"comment.parent\" @clickReply=\"sendReply\" :level=\"FloorLevel\"></parent>\r\n    </div>\r\n    <!-- 回复内容 -->\r\n    <div class=\"content\">{{comment.content}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入parent楼层组件\r\nimport Parent from \"@/components/comment/Parent.vue\";\r\nexport default {\r\n  props: [\"comment\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 计算回复时间\r\n    beforTime() {\r\n      let floorDate = new Date(this.comment.create_date)\r\n        .toLocaleDateString()\r\n        .split(\"/\");\r\n      let nowDate = new Date().toLocaleDateString().split(\"/\");\r\n      if (nowDate[0] - floorDate[0] != 0) {\r\n        return nowDate[0] - floorDate[0] + \"年前\";\r\n      }\r\n      if (nowDate[1] - floorDate[1] != 0) {\r\n        return nowDate[1] - floorDate[1] + \"月前\";\r\n      }\r\n      if (nowDate[2] - floorDate[2] != 0) {\r\n        return nowDate[2] - floorDate[2] + \"天前\";\r\n      }\r\n      let floorTime = new Date(this.comment.create_date)\r\n        .toLocaleTimeString()\r\n        .split(\":\")[0]\r\n        .split(\"午\")[1];\r\n      let nowTime = new Date()\r\n        .toLocaleTimeString()\r\n        .split(\":\")[0]\r\n        .split(\"午\")[1];\r\n      let lastTime =\r\n        nowTime - floorTime == 0 ? \"1小时内\" : nowTime - floorTime + \"小时前\";\r\n      return lastTime;\r\n    },\r\n    // 计算楼层深度:传入当前这条评论的comment.parent 当前楼层为0，如果有parent则每次+1\r\n    FloorLevel() {\r\n      return this.calcuFloorDeep(this.comment.parent, 0);\r\n    },\r\n  },\r\n  methods: {\r\n    // 向父组件传递自定义事件，并绑定当前回复的用户ID\r\n    sendReply(val,repname) {\r\n      this.$emit(\"clickReply\", val,repname);\r\n    },\r\n    // 计算楼层深度\r\n    calcuFloorDeep(floorParent, currDeep) {\r\n      if (floorParent) {\r\n        return this.calcuFloorDeep(floorParent.parent, currDeep + 1);\r\n      } else {\r\n        return currDeep;\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    Parent,\r\n  },\r\n  mounted() {\r\n    console.log(this.comment);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comments {\r\n  border-bottom: 1px solid #d1d0d0;\r\n\r\n  // 回复用户\r\n  .comUser {\r\n    padding: 25/360 * 100vw 20/360 * 100vw 10/360 * 100vw;\r\n\r\n    display: flex;\r\n    .headImg {\r\n      flex: 1;\r\n      text-align: center;\r\n      img {\r\n        border-radius: 50%;\r\n        width: 35/360 * 100vw;\r\n        height: 35/360 * 100vw;\r\n      }\r\n    }\r\n    .comMsg {\r\n      flex: 4;\r\n      > span {\r\n        display: block;\r\n        &:nth-child(1) {\r\n          font-size: 16/360 * 100vw;\r\n          color: #000000;\r\n        }\r\n        &:nth-child(2) {\r\n          font-size: 12/360 * 100vw;\r\n          color: #888888;\r\n        }\r\n      }\r\n    }\r\n    .reply {\r\n      flex: 1;\r\n      text-align: right;\r\n      line-height: 35/360 * 100vw;\r\n      color: #666666;\r\n      font-size: 12/360 * 100vw;\r\n      padding-right: 5/360 * 100vw;\r\n    }\r\n  }\r\n  // 楼层样式\r\n  .floor {\r\n    padding: 0 25/360 * 100vw;\r\n  }\r\n  // 回复内容\r\n  .content {\r\n    padding-left: 28 /360 * 100vw;\r\n    color: #000000;\r\n    font-size: 16/360 * 100vw;\r\n    margin-bottom: 15/360 * 100vw;\r\n    margin-top: 5/360 * 100vw;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=4e0a4b62&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=4e0a4b62&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e0a4b62\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}