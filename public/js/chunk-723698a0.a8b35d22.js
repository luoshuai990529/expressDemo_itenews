(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-723698a0"],{"13ab":function(t,e,a){},"48cb":function(t,e,a){},8481:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mianColumn"},[a("div",{staticClass:"header"},[a("per-nav-temp",{attrs:{navtitle:"栏目管理"},on:{clickNav:t.backHandler}})],1),a("div",{staticClass:"colItems"},[a("div",{staticClass:"delItem"},[t._m(0),a("div",{staticClass:"items"},t._l(t.categoryList,(function(e,s){return a("a",{key:s,attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.moveCategory(e.id,e.name,e.is_top)}}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"addItem"},[t._m(1),a("div",{staticClass:"items"},t._l(t.delCategoryList,(function(e,s){return a("a",{key:s,attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.addCategory(e.id,e.name,e.is_top)}}},[t._v(t._s(e.name))])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("点击删除以下频道")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("点击添加以下频道")])])}],o=a("caf1"),c={data(){return{categoryList:[],delCategoryList:[]}},methods:{backHandler(){this.$router.back()},loadColumn(){localStorage.getItem("categoryList")?(this.categoryList=JSON.parse(localStorage.getItem("categoryList")),console.log(this.categoryList)):this.$axios({url:"/category",method:"get"}).then(t=>{this.categoryList=t.data.data,console.log(this.categoryList)}),JSON.parse(localStorage.getItem("delCategoryList"))&&(this.delCategoryList=JSON.parse(localStorage.getItem("delCategoryList")))},moveCategory(t,e,a){this.categoryList.length<=1?this.$toast.fail("最少要保存一个栏目哦~"):this.$dialog.confirm({message:"你确定删除这一栏吗？"}).then(()=>{console.log("删除栏目的名字："+e+"id是："+t),console.log("是否热门:"+a),this.delCategoryList.push({id:t,name:e,is_top:a}),this.categoryList.forEach((t,a)=>{t.name==e&&this.categoryList.splice(a,1)})}).catch(()=>{})},addCategory(t,e,a){console.log("添加栏目的名字："+e+"id是："+t),console.log("是否热门："+a),this.delCategoryList.forEach((t,a)=>{t.name==e&&this.delCategoryList.splice(a,1)}),this.categoryList.push({id:t,name:e,is_top:a})}},watch:{categoryList:function(t){console.log("监听到categoryList变化"),localStorage.setItem("categoryList",JSON.stringify(t))},delCategoryList:function(t){console.log("监听到delCategoryList变化"),localStorage.setItem("delCategoryList",JSON.stringify(t))}},mounted(){this.loadColumn()},components:{PerNavTemp:o["a"]}},n=c,r=(a("98f7"),a("2877")),l=Object(r["a"])(n,s,i,!1,null,"7c4aafb9",null);e["default"]=l.exports},"8a40":function(t,e,a){"use strict";var s=a("13ab"),i=a.n(s);i.a},"98f7":function(t,e,a){"use strict";var s=a("48cb"),i=a.n(s);i.a},caf1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pernav"},[a("div",{staticClass:"edithead"},[a("i",{staticClass:"iconfont icon-fanhui",on:{click:t.sendClick}}),a("b",[t._v(t._s(t.navtitle))])])])},i=[],o={props:["navtitle"],data(){return{}},methods:{sendClick(){this.$emit("clickNav")}}},c=o,n=(a("8a40"),a("2877")),r=Object(n["a"])(c,s,i,!1,null,"664cd19b",null);e["a"]=r.exports}}]);
//# sourceMappingURL=chunk-723698a0.a8b35d22.js.map