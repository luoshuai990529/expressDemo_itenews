{"version":3,"sources":["webpack:///./src/views/Personal/columnManager.vue?6f31","webpack:///src/views/Personal/columnManager.vue","webpack:///./src/views/Personal/columnManager.vue?4b25","webpack:///./src/views/Personal/columnManager.vue","webpack:///./src/components/PerNavTemp.vue?3b8a","webpack:///./src/views/Personal/columnManager.vue?1acc","webpack:///./src/components/PerNavTemp.vue?cd1a","webpack:///src/components/PerNavTemp.vue","webpack:///./src/components/PerNavTemp.vue?15f7","webpack:///./src/components/PerNavTemp.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","backHandler","_m","_l","item","index","key","$event","stopPropagation","preventDefault","moveCategory","id","name","is_top","_v","_s","addCategory","staticRenderFns","categoryList","delCategoryList","methods","$router","back","localStorage","getItem","JSON","parse","console","log","$axios","url","method","then","res","data","categoryname","istop","length","$toast","fail","$dialog","confirm","message","push","forEach","splice","catch","watch","val","setItem","stringify","loadColumn","components","PerNavTemp","component","sendClick","navtitle","props","$emit"],"mappings":"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","file":"js/chunk-723698a0.a8b35d22.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mianColumn\"},[_c('div',{staticClass:\"header\"},[_c('per-nav-temp',{attrs:{\"navtitle\":'栏目管理'},on:{\"clickNav\":_vm.backHandler}})],1),_c('div',{staticClass:\"colItems\"},[_c('div',{staticClass:\"delItem\"},[_vm._m(0),_c('div',{staticClass:\"items\"},_vm._l((_vm.categoryList),function(item,index){return _c('a',{key:index,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.moveCategory(item.id,item.name,item.is_top)}}},[_vm._v(_vm._s(item.name))])}),0)]),_c('div',{staticClass:\"addItem\"},[_vm._m(1),_c('div',{staticClass:\"items\"},_vm._l((_vm.delCategoryList),function(item,index){return _c('a',{key:index,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addCategory(item.id,item.name,item.is_top)}}},[_vm._v(_vm._s(item.name))])}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"点击删除以下频道\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"点击添加以下频道\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mianColumn\">\r\n    <div class=\"header\">\r\n      <per-nav-temp :navtitle=\"'栏目管理'\" @clickNav=\"backHandler\"></per-nav-temp>\r\n    </div>\r\n    <!-- 频道数据渲染 -->\r\n    <div class=\"colItems\">\r\n      <!-- 点击删除频道 -->\r\n      <div class=\"delItem\">\r\n        <div class=\"title\">\r\n          <p>点击删除以下频道</p>\r\n        </div>\r\n        <div class=\"items\">\r\n          <a\r\n            href=\"#\"\r\n            @click.stop.prevent=\"moveCategory(item.id,item.name,item.is_top)\"\r\n            v-for=\"(item, index) in categoryList\"\r\n            :key=\"index\"\r\n          >{{item.name}}</a>\r\n        </div>\r\n      </div>\r\n      <!-- 点击添加频道 -->\r\n      <div class=\"addItem\">\r\n        <div class=\"title\">\r\n          <p>点击添加以下频道</p>\r\n        </div>\r\n        <div class=\"items\">\r\n          <a\r\n            href=\"#\"\r\n            v-for=\"(item, index) in delCategoryList\"\r\n            :key=\"index\"\r\n            @click.stop.prevent=\"addCategory(item.id,item.name,item.is_top)\"\r\n          >{{item.name}}</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PerNavTemp from \"@/components/PerNavTemp.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      categoryList: [],\r\n      delCategoryList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    backHandler() {\r\n      this.$router.back();\r\n    },\r\n    // 加载栏目方法\r\n    loadColumn() {\r\n      // 如果本地有数据就从本地加载\r\n      if (localStorage.getItem(\"categoryList\")) {\r\n        this.categoryList = JSON.parse(localStorage.getItem(\"categoryList\"));\r\n        console.log(this.categoryList);\r\n      } else {\r\n        this.$axios({\r\n          url: \"/category\",\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          this.categoryList = res.data.data;\r\n          console.log(this.categoryList);\r\n        });\r\n      }\r\n      if (JSON.parse(localStorage.getItem(\"delCategoryList\"))) {\r\n        this.delCategoryList = JSON.parse(\r\n          localStorage.getItem(\"delCategoryList\")\r\n        );\r\n      }\r\n    },\r\n    // 删除栏目方法\r\n    moveCategory(id, categoryname, istop) {\r\n      if (this.categoryList.length <= 1) {\r\n        this.$toast.fail(\"最少要保存一个栏目哦~\");\r\n        return;\r\n      }\r\n      this.$dialog\r\n        .confirm({\r\n          message: \"你确定删除这一栏吗？\",\r\n        })\r\n        .then(() => {\r\n          console.log(\"删除栏目的名字：\" + categoryname + \"id是：\" + id);\r\n          console.log(\"是否热门:\" + istop);\r\n          // 将删除的这个栏目 放入已删除的数组中，存入本地\r\n          this.delCategoryList.push({\r\n            id: id,\r\n            name: categoryname,\r\n            is_top: istop,\r\n          });\r\n\r\n          // 删除这个类别，存入localstorage\r\n          this.categoryList.forEach((item, index) => {\r\n            if (item.name == categoryname) {\r\n              this.categoryList.splice(index, 1);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 添加栏目方法\r\n    addCategory(id, categoryname, istop) {\r\n      console.log(\"添加栏目的名字：\" + categoryname + \"id是：\" + id);\r\n      console.log(\"是否热门：\" + istop);\r\n\r\n      //   添加现有的\r\n      this.delCategoryList.forEach((item, index) => {\r\n        if (item.name == categoryname) {\r\n          this.delCategoryList.splice(index, 1);\r\n        }\r\n      });\r\n\r\n      this.categoryList.push({ id: id, name: categoryname, is_top: istop });\r\n    },\r\n  },\r\n  watch: {\r\n    categoryList: function (val) {\r\n      console.log(\"监听到categoryList变化\");\r\n      localStorage.setItem(\"categoryList\", JSON.stringify(val));\r\n    },\r\n    delCategoryList: function (val) {\r\n      console.log(\"监听到delCategoryList变化\");\r\n      localStorage.setItem(\"delCategoryList\", JSON.stringify(val));\r\n    },\r\n  },\r\n  mounted() {\r\n    //   请求所有栏目列表\r\n    this.loadColumn();\r\n  },\r\n  components: {\r\n    PerNavTemp,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.mianColumn {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #f2f2f2;\r\n  min-height: 100vh;\r\n  .header {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100vw;\r\n    z-index: 999;\r\n  }\r\n  //   频道栏目样式\r\n  .colItems {\r\n    margin-top: 60/360 * 100vw;\r\n    .delItem,\r\n    .addItem {\r\n      .title {\r\n        line-height: 25/360 * 100vw;\r\n        margin-top: 20/360 * 100vw;\r\n        background: #ebebeb;\r\n        > p {\r\n          font-size: 12/360 * 100vw;\r\n          color: #6d6c6c;\r\n          padding-left: 12/360 * 100vw;\r\n        }\r\n      }\r\n      .items {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        // justify-content: space-around;\r\n        > a {\r\n          display: inline-block;\r\n          margin-top: 10/360 * 100vw;\r\n          margin-left: 10/360 * 100vw;\r\n          border: 1px solid #dedede;\r\n          font-size: 16/360 * 100vw;\r\n          padding: 5/360 * 100vw 20/360 * 100vw;\r\n          color: #000000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./columnManager.vue?vue&type=template&id=7c4aafb9&scoped=true&\"\nimport script from \"./columnManager.vue?vue&type=script&lang=js&\"\nexport * from \"./columnManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./columnManager.vue?vue&type=style&index=0&id=7c4aafb9&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c4aafb9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnManager.vue?vue&type=style&index=0&id=7c4aafb9&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnManager.vue?vue&type=style&index=0&id=7c4aafb9&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pernav\"},[_c('div',{staticClass:\"edithead\"},[_c('i',{staticClass:\"iconfont icon-fanhui\",on:{\"click\":_vm.sendClick}}),_c('b',[_vm._v(_vm._s(_vm.navtitle))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pernav\">\r\n    <div class=\"edithead\">\r\n      <i class=\"iconfont icon-fanhui\" @click=\"sendClick\"></i>\r\n      <b>{{navtitle}}</b>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"navtitle\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    sendClick() {\r\n      this.$emit(\"clickNav\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.edithead {\r\n  position: relative;\r\n  z-index: 999;\r\n  text-align: center;\r\n  line-height: 48/360 * 100vw;\r\n  border-bottom: 1px solid #d0cfcf;\r\n  background: url('../assets/images/perbg4.jpg') no-repeat center;\r\n  background-size: cover;\r\n  color: #fff;\r\n  .iconfont {\r\n    position: absolute;\r\n    left: 15/360 * 100vw;\r\n    width: 30/360 * 100vw;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerNavTemp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PerNavTemp.vue?vue&type=template&id=664cd19b&scoped=true&\"\nimport script from \"./PerNavTemp.vue?vue&type=script&lang=js&\"\nexport * from \"./PerNavTemp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PerNavTemp.vue?vue&type=style&index=0&id=664cd19b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"664cd19b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}